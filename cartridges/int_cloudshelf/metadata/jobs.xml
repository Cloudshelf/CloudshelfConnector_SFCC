<?xml version="1.0" encoding="UTF-8"?>
<jobs xmlns="http://www.demandware.com/xml/impex/jobs/2015-07-01">
    <job job-id="RebuildURLs" priority="0">
        <description/>
        <parameters/>
        <split sequential="false">
            <contexts template-ref="template_40">
                <context site-id="bassett"/>
            </contexts>
            <flow-template template-id="template_40">
                <step step-id="RebuildURLs" type="UpdateStorefrontURLs" enforce-restart="false">
                    <description/>
                    <parameters/>
                </step>
            </flow-template>
        </split>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-06-25Z</date>
                <time>05:38:35.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="Download" priority="0">
        <description>Download</description>
        <parameters/>
        <flow>
            <context site-id="Sites"/>
            <step step-id="DownloadFromSFTPFD" type="custom.CSComponents.FtpDownload" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ServiceID">DownloadFromSFTPFD</parameter>
                    <parameter name="SourceFolder">upload</parameter>
                    <parameter name="TargetFolder">src/download</parameter>
                    <parameter name="Recursive">false</parameter>
                    <parameter name="DeleteRemoteFiles">true</parameter>
                    <parameter name="NoFileFoundStatus">OK</parameter>
                </parameters>
            </step>
        </flow>
        <flow>
            <context site-id="Sites"/>
            <step step-id="Catalog_Import" type="ImportCatalog" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="WorkingFolder">download</parameter>
                    <parameter name="FileNamePattern">catalog[M|S|m|s]\d\d\d\d\d\d\.xml</parameter>
                    <parameter name="NoFilesFoundHandling">OK</parameter>
                    <parameter name="ImportMode">Replace</parameter>
                    <parameter name="ImportFailedHandling">ERROR</parameter>
                    <parameter name="AfterImportFileHandling">Archive Zipped</parameter>
                    <parameter name="ArchiveFolder">src/download/archive</parameter>
                </parameters>
            </step>
        </flow>
        <split sequential="false">
            <flow>
                <context site-id="Sites"/>
                <step step-id="Inventory_Import" type="ImportInventoryLists" enforce-restart="false">
                    <description/>
                    <parameters>
                        <parameter name="WorkingFolder">download</parameter>
                        <parameter name="FileNamePattern">inventory\d\d\d\d\d\d\.xml</parameter>
                        <parameter name="NoFilesFoundHandling">OK</parameter>
                        <parameter name="ImportMode">Replace</parameter>
                        <parameter name="ImportFailedHandling">ERROR</parameter>
                        <parameter name="AfterImportFileHandling">Archive Zipped</parameter>
                        <parameter name="ArchiveFolder">src/download/archive</parameter>
                    </parameters>
                </step>
            </flow>
            <flow>
                <context site-id="Sites"/>
                <step step-id="Price_Import" type="ImportPriceBook" enforce-restart="false">
                    <description/>
                    <parameters>
                        <parameter name="WorkingFolder">download</parameter>
                        <parameter name="FileNamePattern">price\d\d\d\d\d\d\.xml</parameter>
                        <parameter name="NoFilesFoundHandling">OK</parameter>
                        <parameter name="ImportMode">Replace</parameter>
                        <parameter name="ImportFailedHandling">ERROR</parameter>
                        <parameter name="AfterImportFileHandling">Archive Zipped</parameter>
                        <parameter name="ArchiveFolder">src/download/archive</parameter>
                    </parameters>
                </step>
            </flow>
        </split>
        <flow>
            <context site-id="Sites"/>
            <step step-id="CleanArchiveDirectory" type="custom.CSComponents.CleanUpFiles" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="WorkingFolder">Impex/src/download/archive</parameter>
                    <parameter name="NoFileFoundStatus">OK</parameter>
                    <parameter name="DaysToKeep">30</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2022-07-07Z</date>
                <time>13:32:13.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="Reindex" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="Reindex" type="SearchReindex" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="Product related search indexes">true</parameter>
                    <parameter name="Active data search index">true</parameter>
                    <parameter name="Content search index">true</parameter>
                    <parameter name="Indexer Type">Full Index Rebuild</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-recurring enabled="true">
                <recurrence>
                    <date-from>2022-07-03Z</date-from>
                    <start-time>04:00:00.000Z</start-time>
                    <interval>1h</interval>
                    <day-of-week>
                        <weekday>Friday</weekday>
                        <weekday>Tuesday</weekday>
                        <weekday>Thursday</weekday>
                        <weekday>Sunday</weekday>
                        <weekday>Wednesday</weekday>
                        <weekday>Saturday</weekday>
                        <weekday>Monday</weekday>
                    </day-of-week>
                </recurrence>
            </run-recurring>
        </triggers>
    </job>

    <job job-id="AffirmCapture" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="AffirmCapture" type="ExecuteScriptModule" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">int_affirm/cartridge/scripts/jobs/capture.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">true</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-04-04Z</date>
                <time>12:09:07.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="AffirmRefund" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="AffirmRefund" type="ExecuteScriptModule" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">int_affirm/cartridge/scripts/jobs/refund.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">true</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-04-04Z</date>
                <time>12:10:17.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="AffirmUpdate" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="AffirmUpdate" type="ExecuteScriptModule" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">int_affirm/cartridge/scripts/jobs/update.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">true</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-04-04Z</date>
                <time>12:11:18.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="AffirmVoid" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="AffirmVoid" type="ExecuteScriptModule" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">int_affirm/cartridge/scripts/jobs/void.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">true</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-04-04Z</date>
                <time>12:12:11.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="CyberSource: Capture" priority="0">
        <description/>
        <parameters/>
        <flow>
            <context site-id="bassett"/>
            <step step-id="custom.bassett.CSCapture" type="custom.bassett.CSCapture" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="DateFrom">2022-09-28T04:00:00Z</parameter>
                    <parameter name="DateTo">2022-09-30T04:00:00Z</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2022-09-26Z</date>
                <time>14:20:55.000Z</time>
            </run-once>
        </triggers>
    </job>
    
    <job job-id="ResourceManager.Publish" priority="0">
        <description/>
        <parameters>
            <parameter name="Locale">locale</parameter>
            <parameter name="TargetFolder">/Dynamic/bassett/resources</parameter>
            <parameter name="ExecutionSiteId">Sites-Site</parameter>
            <parameter name="BundleName">bundle</parameter>
        </parameters>
        <flow>
            <context site-id="bassett"/>
            <step step-id="writeBundle" type="custom.ResourceManager.ProcessBundle" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="BundleName" job-parameter-ref="BundleName"/>
                    <parameter name="Locale" job-parameter-ref="Locale"/>
                    <parameter name="ExecutionSiteId" job-parameter-ref="ExecutionSiteId"/>
                    <parameter name="IsDisabled">false</parameter>
                </parameters>
            </step>
            <step step-id="moveBundle" type="custom.CSComponents.MoveFiles" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="FilePattern">.properties</parameter>
                    <parameter name="SourceFolder">/Temp</parameter>
                    <parameter name="TargetFolder" job-parameter-ref="TargetFolder"/>
                    <parameter name="CopyOnly">false</parameter>
                    <parameter name="Recursive">false</parameter>
                    <parameter name="Overwrite">true</parameter>
                    <parameter name="NoFileFoundStatus">OK</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="true">
                <date>2021-03-03Z</date>
                <time>10:08:52.000Z</time>
            </run-once>
        </triggers>
    </job>

</jobs>
